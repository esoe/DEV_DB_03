# Приведение к **ПЕРВОЙ** нормальной форме (НФ1)
## Приведение данных к атомарному виду
1. Разделение сложных атрибутов на атомарные
    - не разделял поле "Наименование контрагента" (не разбил в отдельные поля форму собственности и наименование организации), потомучто они **не вызывают** дублирования строк таблицы в приведенном примере. Поля "Наименование контрагента" по сути уже атомарны.
    - не разделял поле "Город", данные **не вызывают** дублирования строк, в приведенной выборке отсутствуют организации, имеющие несколько офисов в разных городах.
    - Не разделял поле "Адрес", данные **не вызывают** дублирования строк, в приведенной выборке отсутствуют организации с несколькими офисами
    - Поле "Вид контрагента" **привело к появлению новых строк**, один когтрагент может являться только поставщиком, другой только потребителем, третий может относиться одновременно к обеим категориям (явные перечисления состояний) 
    - Поле "Должность контактного лица" **не вызывает** дублирования строк. Вернее вернее дублирование строк в задаче было предварительно устранено. От одной организации может выступать множество контактных лиц, причем как в качестве поставщика, так и в качестве клиента.
    - Поле "ФИО контактного лица" **не вызывает** дублирования строк. Дублирование устранено на этапе постановки задачи (от одной организации допускается присутствие нескольких контактных лиц)
    - Поле "Код города" **не вызывает** дублирования строк. (отсутствуют организации присутствующие в разных городах)
    - Поле "Номер телефона" **не вызывает** дублирования строк. (отсутствуют контакты с несколькими номерами телефонов)
2. Совмещение повторяющихся атрибутов
    - Повторяющиеся атрибуты в исходной таблице отсутствуют (столбцы, содержащие одинаковые данные отсутствуют)
3. Пересмотр атрибутов Primary KEY. К атрибутам Primary Key (PK) отнес связанные данные.
    - **PK-part-1** составной первичный ключ, представляющий данные из четырех столбцов: "Наименование контрагента" (не разбиваю на составные - "Наименование" и форма собственности", в исходных данных отсутствуют дублирования вызывающие необходимость такого разделения), "Город" (вместе с кодом города, которые представляют по сути одни и те же сведения), "Адрес" (не разбиваю адрес на составные части, потомучто в полях дублируется только наименование дороги - улица, теоретически могут быть одинаковые адреса с различием только в номере дома, наименовании города или названии дороги, но в представленных данных такого нет, можно рассматривать как единый блок данных).

    Все организации из приведенной выборки имеют по одному офису, потому в этом частном случае данные можно оставить в одном отношении.

    - **PK-part-2** Отношение "Вид контрагента"
    Является частью первичного ключа, вызывает множество дублирований по строкам - физическое лицо может представлять организацию в качестве поставщика, в качестве потребителя или в обоих качествах единовременно

    - **PK-part-3** Составной первичный ключ, представляюий данные из столбцов: "Должность контакта", "ФИО контакта", "Телефон". Все данные строки относятся к одному физическому лицу, не вызывают дублирований внутри отношения.

# Приведение ко **ВТОРОЙ** нормальной форме (НФ2)
- **PK-part-1** Удаляем дублирующиеся строки, возникшие для уточнения других частей первичного ключа. Для упрощения обращения СУБД с данными формируем первичный ключ отношения - id.

Отеляем наименование города и код города в самостоятельное отношение, в качестве Foreing Key остается код города, уже являющийся уникальным идентификатором города.

- **PK-part-2** Контрагент может иметь три состояния - "Поставщик", "Клиент", "Оба статуса". При заполнении формы пользователем, он будет галочками (Checkbox) указывать к каким состояниям может относиться контрагент. При получении данных, пользователь будет так-же галочками указывать какого типа контрагенты ему нужны. Таким образом удобнее сделать отдельные отношения (реестры), для поставщиков и для клиентов, чтобы избежать связи многие ко многим (множество состояний контрагента ко множеству контактов)

- **PK-part-3** Отношение "контакты" остается связанным с "Контрагентами" по отношениям "Поставщики" и "Потребители", дополнительно вводить связь не обязательно. Для поиска полного номера телефона также остается связь с кодом города, через отношения поставщики/клиенты -> Контрагенты -> Города. Запрос предполагается частый, судя по всему базу предполагается использовать как раз для контакта с контрагентами. Возможно стоило бы код города оставить в таблице контакты, или добавить в контактах еще один столбец с кодом города.

# Приведение к **ТРЕТЬЕЙ** нормальной форме (НФ3)
Неключевые атрибуты не имеют функциональной зависимости, данные приведены к третьей нормальной офрме.

Однако можно дальше дорабатывать структуру данных:
- вынести из отношения "контакты" наименования должностей (оставить FK), чтобы избежать дублирования текста, упростить перебор данных при поиске информации.
- вынести из отношения "Контрагенты" данные об адресе и разбить их на составные (аналогично приведет к разростанию количества записей и возможности оптимизации запросов по скорости исполнения при поиске данных).